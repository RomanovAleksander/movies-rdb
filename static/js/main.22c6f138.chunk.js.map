{"version":3,"sources":["assets/no-image.png","components/ErrorIndicator/ErrorIndicator.js","services/LocalStorageService.js","services/api.js","components/MovieItem/MovieItem.js","components/MovieList/MovieList.js","components/Filter/Filter.js","components/MoviesCatalog/MoviesCatalog.js","actions/index.js","actions/types.js","pages/Home.js","components/ErrorBoundry/ErrorBoundry.js","reducers/movies.js","reducers/index.js","store.js","index.js","components/App/App.js"],"names":["module","exports","ErrorIndicator","status","className","LocalStorage","instance","this","key","JSON","parse","localStorage","getItem","value","setItem","stringify","API_KEY","BASE_API_URL","path","page","query","data","errors","length","Error","join","status_message","status_code","url","fetch","response","json","ok","throwCommonError","filter","generateUrl","handleApiCall","id","movie","poster_path","imageFallback","backdrop_path","release_date","Date","getFullYear","MovieItem","mountStyle","setState","style","transform","transitionDelay","props","delay","transitionProperty","transitionDuration","transitionTimingFunction","opacity","toggleHover","hover","state","setTimeout","title","vote_average","onMouseEnter","onMouseLeave","src","Api","getMoviePosterMiniImageUrl","alt","substr","React","Component","MovieList","movies","loading","error","console","log","map","indexOf","Filter","handleClick","e","changeFilterValue","target","dataset","onClick","data-filter","MoviesCatalog","requestMovies","currentMoviesPage","filterValue","moviesLoaded","moviesRequested","moviesError","getMovies","then","results","catch","err","changeFilter","filterMovies","handleScroll","clientHeight","document","documentElement","getBoundingClientRect","bottom","window","addEventListener","removeEventListener","mapDispatchToProps","newMovies","type","payload","connect","Home","ErrorBoundry","hasError","children","initialState","favouritesMovies","searchText","reducer","combineReducers","action","undefined","favouritesJokes","LocalStorageService","newFavouritesMovies","updatedFavouritesMovies","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.22c6f138.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no-image.d9756f52.png\";","import React from 'react';\nimport './errorIndicator.scss';\n\nexport const ErrorIndicator = ({ status }) => {\n  return (\n    <>\n    <div className=\"error-indicator\">\n      Ops... Something went wrong\n      {status &&  <p>Try Re-Sign-In</p>}\n    </div>\n    </>\n  )\n};\n","class LocalStorage {\n  constructor() {\n    if (LocalStorage.instance) {\n      return LocalStorage.instance\n    }\n    LocalStorage.instance = this;\n    return this;\n  }\n\n  getItem(key) {\n    return JSON.parse(localStorage.getItem(`${key}`));\n  }\n\n  setItem(key, value) {\n    return localStorage.setItem(`${key}`, JSON.stringify(value));\n  }\n}\n\nexport default new LocalStorage();\n","import imageFallback from '../assets/no-image.png';\n\nconst API_KEY = 'fa2b02021794026b428e1d15dc359d00';\nconst BASE_API_URL = 'https://api.themoviedb.org/3/';\nconst BASE_IMG_API = 'https://image.tmdb.org/t/p/original/';\nconst BASE_IMG_MINI_API = 'https://image.tmdb.org/t/p/w500/';\n\nclass Api {\n  generateUrl(path, page, query) {\n    if (query) {\n      return `${BASE_API_URL}${path}?query=${query}&api_key=${API_KEY}`;\n    }\n    if (page) {\n      return `${BASE_API_URL}${path}?api_key=${API_KEY}&page=${page}`;\n    }\n\n    return `${BASE_API_URL}${path}?&api_key=${API_KEY}`;\n  }\n\n  throwCommonError(data) {\n    if (data.errors && data.errors.length) {\n      throw new Error(data.errors.join(' | '));\n    }\n\n    throw new Error(`${data.status_message} (error code: ${data.status_code})`);\n  }\n\n  async handleApiCall(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    if (!response.ok) {\n      this.throwCommonError(data);\n    }\n\n    return data;\n  }\n\n  getMovies(page = 1, filter) {\n    const url = this.generateUrl(`movie/${filter}`, page);\n\n    return this.handleApiCall(url);\n  }\n\n  getMovie(id) {\n    const url = this.generateUrl(`movie/${id}`);\n\n    return this.handleApiCall(url);\n  }\n\n  getMovieRecommendations(id) {\n    const url = this.generateUrl(`movie/${id}/recommendations`);\n\n    return this.handleApiCall(url);\n  }\n\n  getGenresListForMovies() {\n    const url = this.generateUrl('genre/movie/list');\n\n    return this.handleApiCall(url);\n  }\n\n  getMoviePosterImageUrl(movie) {\n    if (!movie.poster_path) {\n      return imageFallback;\n    }\n\n    return `${BASE_IMG_API}${movie.poster_path}`;\n  }\n\n  getMoviePosterMiniImageUrl(movie) {\n    if (!movie.poster_path) {\n      return imageFallback;\n    }\n\n    return `${BASE_IMG_MINI_API}${movie.poster_path}`;\n  }\n\n  getMovieBackdropImageUrl(movie) {\n    if (!movie.backdrop_path) {\n      return imageFallback;\n    }\n\n    return `${BASE_IMG_API}${movie.backdrop_path}`;\n  }\n\n  getMovieReleaseYear(movie) {\n    if (!movie.release_date) {\n      return 'N/A';\n    }\n\n    return new Date(movie.release_date).getFullYear();\n  }\n\n  searchMovies(query, page = 1) {\n    const url = this.generateUrl('search/movie', page, query);\n\n    return this.handleApiCall(url);\n  }\n}\n\nexport default new Api();\n","import React from 'react';\nimport './movieItem.scss';\nimport {Api} from \"../../services\";\n\nexport class MovieItem extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      style: {\n        transform: 'scale(0, 0)',\n        transitionDelay: `0s, 0s`,\n        transitionProperty: 'opacity, transform',\n        transitionDuration: '0.3s',\n        transitionTimingFunction: 'ease',\n        opacity: '0'\n      },\n      hover: false\n    }\n  }\n\n  mountStyle = () => {\n    this.setState({\n      style : {\n        transform: 'scale(1, 1)',\n        transitionDelay: `0s, ${this.props.delay}s`,\n        transitionProperty: 'opacity, transform',\n        transitionDuration: '0.3s',\n        transitionTimingFunction: 'ease',\n        opacity: '1'\n      }\n    })\n  };\n\n  componentDidMount() {\n    setTimeout(this.mountStyle, 10);\n  }\n\n  toggleHover = () => {\n    this.setState({hover: !this.state.hover})\n  };\n\n  render() {\n    const { title, vote_average, release_date } = this.props.movie;\n    const hover = this.state.hover ? {opacity: '1'} : {opacity: '0'};\n\n    return (\n      <div className=\"movie-item\" style={this.state.style}\n           onMouseEnter={this.toggleHover}\n           onMouseLeave={this.toggleHover} >\n        <img src={Api.getMoviePosterMiniImageUrl(this.props.movie)} alt=\"\"/>\n        <div className=\"movie-item__details glow\" style={hover}>\n          <div className=\"details__title-year\">\n            <div className=\"details-title\">\n              {title}\n            </div>\n            <div className=\"details__year\">\n              ({release_date.substr(0,4)})\n            </div>\n          </div>\n          <div className=\"details__vote\">\n            <span className=\"icon\"> </span>\n            {vote_average}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ErrorIndicator } from '../ErrorIndicator';\nimport './movieList.scss';\nimport { MovieItem } from \"../MovieItem\";\n\nexport const MovieList = ({ movies, loading, error }) => {\n  if (loading) {\n    return <div>Loading...</div>\n  }\n\n  if (error) {\n    return (\n      <div className=\"list\">\n        <ErrorIndicator/>\n      </div>\n    )\n  }\n\n  if (movies) {\n    console.log(movies);\n    return (\n      <div className=\"list\">\n        {\n          movies.map((movie) => {\n            return (\n              <div className=\"item-wrapper\" key={movie.id}>\n                <MovieItem\n                  movie={movie}\n                  delay={(movies.indexOf(movie)%20)*0.04}\n                />\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  } else {\n    return <div>Nothing</div>\n  }\n};\n","import React from 'react';\nimport './filter.scss';\n\nexport default class Filter extends React.Component{\n  constructor() {\n    super();\n    this.state = {\n      filter: 'popular'\n    }\n  }\n\n  handleClick = (e) => {\n    const { changeFilterValue } = this.props;\n    let target = e.target.dataset.filter;\n    console.log(target);\n\n    if (target !== this.state.filter) {\n      this.setState({\n        filter: target\n      });\n\n      changeFilterValue(target);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"movies-filter\">\n        <ul onClick={this.handleClick}>\n          <li className={this.state.filter === 'popular' ? 'active' : ''} data-filter=\"popular\">Popular</li>\n          <li className={this.state.filter === 'top_rated' ? 'active' : ''} data-filter=\"top_rated\">Top rated</li>\n          <li className={this.state.filter === 'upcoming' ? 'active' : ''} data-filter=\"upcoming\">Upcoming</li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { MovieList } from '../MovieList';\nimport { Api } from '../../services';\nimport {\n  moviesLoaded, moviesRequested, moviesError, filterMovies\n} from '../../actions';\nimport {Filter} from \"../Filter\";\n\nclass MoviesCatalog extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      currentMoviesPage: 2,\n    }\n  }\n\n  requestMovies = (page = this.state.currentMoviesPage, filterValue = this.props.filter) => {\n    const { moviesLoaded, moviesRequested, moviesError } = this.props;\n\n    moviesRequested();\n    console.log(this.state.currentMoviesPage);\n      Api.getMovies(page, filterValue)\n        .then((data) => moviesLoaded(data.results))\n        .catch((err) => {\n          moviesError(err)\n        });\n  };\n\n  changeFilter = (filterValue) => {\n    this.props.filterMovies(filterValue);\n    this.setState({\n      currentMoviesPage: 2\n    });\n\n    this.requestMovies(1, filterValue);\n    setTimeout(() => {\n      this.requestMovies(2, filterValue);\n    },300);\n  };\n\n  handleScroll = () => {\n    let clientHeight = document.documentElement.clientHeight;\n    let bottom = document.documentElement.getBoundingClientRect().bottom;\n    if (bottom - clientHeight < 50) {\n      this.setState((state) => {\n        return {currentMoviesPage: state.currentMoviesPage + 1}\n      });\n      this.requestMovies()\n    }\n  };\n\n  componentDidMount() {\n    this.requestMovies(1);\n    setTimeout(() => {\n      this.requestMovies(2);\n    },700);\n\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  render() {\n    return (\n      <>\n        <Filter changeFilterValue={this.changeFilter}/>\n        <MovieList movies={this.props.movies}/>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = {\n  moviesLoaded,\n  moviesRequested,\n  moviesError,\n  filterMovies\n};\n\nconst mapStateToProps = state => ({\n  movies: state.movies.movies,\n  filter: state.movies.filter,\n  loading: state.movies.loading,\n  error: state.movies.error\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MoviesCatalog);\n","import {\n  FETCH_MOVIE_FAILURE,\n  FETCH_MOVIE_REQUEST,\n  FETCH_MOVIE_SUCCESS,\n  FETCH_MOVIES_FAILURE,\n  FETCH_MOVIES_REQUEST,\n  FETCH_MOVIES_SUCCESS,\n  ADD_MOVIE,\n  REMOVE_MOVIE,\n  FILTER_MOVIES\n} from './types';\n\nconst movieRequested = () => {\n  return {\n    type: FETCH_MOVIE_REQUEST\n  }\n};\n\nconst movieLoaded = (newMovie) => {\n  return {\n    type: FETCH_MOVIE_SUCCESS,\n    payload: newMovie\n  }\n};\n\nconst movieError = (error) => {\n  return {\n    type: FETCH_MOVIE_FAILURE,\n    payload: error\n  };\n};\n\nconst moviesRequested = () => {\n  return {\n    type: FETCH_MOVIES_REQUEST\n  }\n};\n\nconst moviesLoaded = (newMovies) => {\n  return {\n    type: FETCH_MOVIES_SUCCESS,\n    payload: newMovies\n  }\n};\n\nconst moviesError = (error) => {\n  return {\n    type: FETCH_MOVIES_FAILURE,\n    payload: error\n  };\n};\n\nconst addJoke = (movie) => {\n  return {\n    type: ADD_MOVIE,\n    payload: movie\n  };\n};\n\nconst removeJoke = (movie) => {\n  return {\n    type: REMOVE_MOVIE,\n    payload: movie.id\n  };\n};\n\nconst filterMovies = (filter) => {\n  return {\n    type: FILTER_MOVIES,\n    payload: filter\n  };\n};\n\nexport {\n  movieRequested,\n  movieLoaded,\n  movieError,\n  moviesRequested,\n  moviesLoaded,\n  moviesError,\n  addJoke,\n  removeJoke,\n  filterMovies\n};\n","export const FETCH_MOVIE_REQUEST = 'FETCH_MOVIE_REQUEST';\nexport const FETCH_MOVIE_SUCCESS = 'FETCH_MOVIE_SUCCESS';\nexport const FETCH_MOVIE_FAILURE = 'FETCH_MOVIE_FAILURE';\n\nexport const FETCH_MOVIES_REQUEST = 'FETCH_MOVIES_REQUEST';\nexport const FETCH_MOVIES_SUCCESS = 'FETCH_MOVIES_SUCCESS';\nexport const FETCH_MOVIES_FAILURE = 'FETCH_MOVIES_FAILURE';\n\nexport const ADD_MOVIE = 'ADD_JOKE';\nexport const REMOVE_MOVIE = 'REMOVE_JOKE';\nexport const FILTER_MOVIES = 'FILTER_MOVIES';\n","import React from 'react';\nimport {MoviesCatalog} from '../components/MoviesCatalog'\n\nexport const Home = () => {\n  return (\n    <>\n      <MoviesCatalog/>\n    </>\n  );\n};\n","import React from 'react';\nimport { ErrorIndicator } from '../ErrorIndicator';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />\n    }\n\n    return this.props.children;\n  }\n}\n","import {LocalStorageService} from '../services';\nimport {\n  FETCH_MOVIE_FAILURE,\n  FETCH_MOVIE_REQUEST,\n  FETCH_MOVIE_SUCCESS,\n  FETCH_MOVIES_FAILURE,\n  FETCH_MOVIES_REQUEST,\n  FETCH_MOVIES_SUCCESS,\n  ADD_MOVIE,\n  REMOVE_MOVIE,\n  FILTER_MOVIES\n} from '../actions/types';\n\nconst initialState = {\n  movies: [],\n  favouritesMovies: [],\n  movie: {},\n  searchText: '',\n  filter: 'popular',\n  loading: false,\n  error: null\n};\n\nexport const movies = (state, action) => {\n  const {type, payload} = action;\n  if (state === undefined) {\n    if (localStorage.favouritesJokes) {\n      return {\n        ...initialState,\n        favouritesJokes: LocalStorageService.getItem('favouritesMovies')\n      }\n    } else {\n      return initialState;\n    }\n  }\n\n  switch (type) {\n    case FETCH_MOVIE_REQUEST:\n      return {\n        ...state,\n        movie: {},\n        loading: true,\n        error: null\n      };\n    case FETCH_MOVIE_SUCCESS:\n      return {\n        ...state,\n        movie: payload,\n        loading: false,\n        error: null\n      };\n    case FETCH_MOVIE_FAILURE:\n      return {\n        ...state,\n        movie: {},\n        loading: false,\n        error: payload\n      };\n    case FETCH_MOVIES_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case FETCH_MOVIES_SUCCESS:\n      return {\n        ...state,\n        movies: [...state.movies, ...payload],\n        loading: false,\n        error: null\n      };\n    case FETCH_MOVIES_FAILURE:\n      return {\n        ...state,\n        movies: [],\n        loading: false,\n        error: payload\n      };\n    case ADD_MOVIE:\n      const newFavouritesMovies = [...state.favouritesMovies, payload];\n      LocalStorageService.setItem('favouritesMovies', newFavouritesMovies);\n      return {\n        ...state,\n        favouritesMovies: newFavouritesMovies\n      };\n    case REMOVE_MOVIE:\n      const updatedFavouritesMovies = state.favouritesMovies.filter((movie) => movie.id !== payload);\n      LocalStorageService.setItem('favouritesMovies', updatedFavouritesMovies);\n      return {\n        ...state,\n        favouritesMovies: updatedFavouritesMovies\n      };\n    case FILTER_MOVIES:\n      return {\n        ...state,\n        movies: [],\n        filter: payload\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { movies } from './movies';\n\nexport const reducer = combineReducers({\n    movies\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { reducer } from './reducers';\n\nconst middleware = [thunk];\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport './styles/normalize.css';\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from './components/ErrorBoundry';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Home } from \"../../pages\";\nimport './app.scss';\n\nexport const App = () => {\n  return (\n    <Home />\n  );\n};\n"],"sourceRoot":""}