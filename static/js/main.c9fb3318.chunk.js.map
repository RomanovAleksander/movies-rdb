{"version":3,"sources":["assets/no-image.png","components/ErrorIndicator/ErrorIndicator.js","services/LocalStorageService.js","services/api.js","components/MovieItem/MovieItem.js","components/MovieList/MovieList.js","components/Filter/Filter.js","components/Categories/Categories.js","components/MoviesCatalog/MoviesCatalog.js","actions/index.js","actions/types.js","pages/Catalog.js","components/ErrorBoundry/ErrorBoundry.js","reducers/movies.js","reducers/index.js","store.js","index.js","components/App/App.js"],"names":["module","exports","ErrorIndicator","status","className","LocalStorage","instance","this","key","JSON","parse","localStorage","getItem","value","setItem","stringify","API_KEY","BASE_API_URL","path","page","query","data","errors","length","Error","join","status_message","status_code","url","fetch","response","json","ok","throwCommonError","filter","category","generateUrl","handleApiCall","id","movie","poster_path","imageFallback","backdrop_path","release_date","Date","getFullYear","MovieItem","mountStyle","setState","style","transform","transitionDelay","props","delay","transitionProperty","transitionDuration","transitionTimingFunction","opacity","toggleHover","hover","state","setTimeout","title","vote_average","name","first_air_date","isCorrect","date","substr","isTitle","isRelease","onMouseEnter","onMouseLeave","src","Api","getMoviePosterMiniImageUrl","alt","React","Component","MovieList","movies","isMovie","loading","error","console","log","map","indexOf","Filter","handleClick","e","changeFilterValue","target","dataset","isActive","onClick","data-filter","isTv","Categories","changeCategoryValue","data-category","MoviesCatalog","requestMovies","currentMoviesPage","filterValue","moviesLoaded","moviesRequested","moviesError","getMovies","then","results","catch","err","requestSomePages","changeFilter","filterMovies","changeCategories","categoryValue","changeCategory","handleScroll","clientHeight","document","documentElement","getBoundingClientRect","bottom","window","addEventListener","removeEventListener","mapDispatchToProps","newMovies","type","payload","connect","Catalog","ErrorBoundry","hasError","children","initialState","favouritesMovies","searchText","reducer","combineReducers","action","undefined","favouritesJokes","LocalStorageService","newFavouritesMovies","updatedFavouritesMovies","isUpcomingTv","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c9fb3318.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no-image.d9756f52.png\";","import React from 'react';\nimport './errorIndicator.scss';\n\nexport const ErrorIndicator = ({ status }) => {\n  return (\n    <>\n    <div className=\"error-indicator\">\n      Ops... Something went wrong\n      {status &&  <p>Try Re-Sign-In</p>}\n    </div>\n    </>\n  )\n};\n","class LocalStorage {\n  constructor() {\n    if (LocalStorage.instance) {\n      return LocalStorage.instance\n    }\n    LocalStorage.instance = this;\n    return this;\n  }\n\n  getItem(key) {\n    return JSON.parse(localStorage.getItem(`${key}`));\n  }\n\n  setItem(key, value) {\n    return localStorage.setItem(`${key}`, JSON.stringify(value));\n  }\n}\n\nexport default new LocalStorage();\n","import imageFallback from '../assets/no-image.png';\n\nconst API_KEY = 'fa2b02021794026b428e1d15dc359d00';\nconst BASE_API_URL = 'https://api.themoviedb.org/3/';\nconst BASE_IMG_API = 'https://image.tmdb.org/t/p/original/';\nconst BASE_IMG_MINI_API = 'https://image.tmdb.org/t/p/w500/';\n\nclass Api {\n  generateUrl(path, page, query) {\n    if (query) {\n      return `${BASE_API_URL}${path}?query=${query}&api_key=${API_KEY}`;\n    }\n    if (page) {\n      return `${BASE_API_URL}${path}?api_key=${API_KEY}&page=${page}`;\n    }\n\n    return `${BASE_API_URL}${path}?&api_key=${API_KEY}`;\n  }\n\n  throwCommonError(data) {\n    if (data.errors && data.errors.length) {\n      throw new Error(data.errors.join(' | '));\n    }\n\n    throw new Error(`${data.status_message} (error code: ${data.status_code})`);\n  }\n\n  async handleApiCall(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    if (!response.ok) {\n      this.throwCommonError(data);\n    }\n\n    return data;\n  }\n\n  getMovies(page = 1, filter, category) {\n    const url = this.generateUrl(`${category}/${filter}`, page);\n\n    return this.handleApiCall(url);\n  }\n\n  getMovie(id) {\n    const url = this.generateUrl(`movie/${id}`);\n\n    return this.handleApiCall(url);\n  }\n\n  getMovieRecommendations(id) {\n    const url = this.generateUrl(`movie/${id}/recommendations`);\n\n    return this.handleApiCall(url);\n  }\n\n  getGenresListForMovies() {\n    const url = this.generateUrl('genre/movie/list');\n\n    return this.handleApiCall(url);\n  }\n\n  getMoviePosterImageUrl(movie) {\n    if (!movie.poster_path) {\n      return imageFallback;\n    }\n\n    return `${BASE_IMG_API}${movie.poster_path}`;\n  }\n\n  getMoviePosterMiniImageUrl(movie) {\n    if (!movie.poster_path) {\n      return imageFallback;\n    }\n\n    return `${BASE_IMG_MINI_API}${movie.poster_path}`;\n  }\n\n  getMovieBackdropImageUrl(movie) {\n    if (!movie.backdrop_path) {\n      return imageFallback;\n    }\n\n    return `${BASE_IMG_API}${movie.backdrop_path}`;\n  }\n\n  getMovieReleaseYear(movie) {\n    if (!movie.release_date) {\n      return 'N/A';\n    }\n\n    return new Date(movie.release_date).getFullYear();\n  }\n\n  searchMovies(query, page = 1) {\n    const url = this.generateUrl('search/movie', page, query);\n\n    return this.handleApiCall(url);\n  }\n}\n\nexport default new Api();\n","import React from 'react';\nimport './movieItem.scss';\nimport {Api} from \"../../services\";\n\nexport class MovieItem extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      style: {\n        transform: 'scale(0, 0)',\n        transitionDelay: `0s, 0s`,\n        transitionProperty: 'opacity, transform',\n        transitionDuration: '0.3s',\n        transitionTimingFunction: 'ease',\n        opacity: '0'\n      },\n      hover: false\n    }\n  }\n\n  mountStyle = () => {\n    this.setState({\n      style : {\n        transform: 'scale(1, 1)',\n        transitionDelay: `0s, ${this.props.delay}s`,\n        transitionProperty: 'opacity, transform',\n        transitionDuration: '0.3s',\n        transitionTimingFunction: 'ease',\n        opacity: '1'\n      }\n    })\n  };\n\n  componentDidMount() {\n    setTimeout(this.mountStyle, 10);\n  }\n\n  toggleHover = () => {\n    this.setState({hover: !this.state.hover})\n  };\n\n  render() {\n    const { title, vote_average, release_date, name, first_air_date } = this.props.movie;\n    const hover = this.state.hover ? {opacity: '1'} : {opacity: '0'};\n    const isCorrect = (date) => date ? date.substr(0,4) : 'Unknown';\n    const isTitle = title ? title : name;\n    const isRelease = release_date ? isCorrect(release_date) : isCorrect(first_air_date);\n\n    return (\n      <div className=\"movie-item\" style={this.state.style}\n           onMouseEnter={this.toggleHover}\n           onMouseLeave={this.toggleHover} >\n        <img src={Api.getMoviePosterMiniImageUrl(this.props.movie)} alt=\"\"/>\n        <div className=\"movie-item__details glow\" style={hover}>\n          <div className=\"details__title-year\">\n            <div className=\"details-title\">\n              {isTitle}\n            </div>\n            <div className=\"details__year\">\n              ({isRelease})\n            </div>\n          </div>\n          <div className=\"details__vote\">\n            <span className=\"icon\"> </span>\n            {vote_average}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ErrorIndicator } from '../ErrorIndicator';\nimport './movieList.scss';\nimport { MovieItem } from \"../MovieItem\";\n\nexport const MovieList = ({ movies, isMovie, loading, error }) => {\n  if (loading) {\n    return <div>Loading...</div>\n  }\n\n  if (error) {\n    return (\n      <div className=\"list\">\n        <ErrorIndicator/>\n      </div>\n    )\n  }\n\n  if (movies) {\n    console.log('movies: ', movies);\n\n    return (\n      <div className=\"list\">\n        {\n          movies.map((movie) => {\n            return (\n              <div className=\"item-wrapper\" key={movie.id}>\n                <MovieItem\n                  isMovie={isMovie}\n                  movie={movie}\n                  delay={(movies.indexOf(movie)%20)*0.04}\n                />\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  } else {\n    return <div>Nothing</div>\n  }\n};\n","import React from 'react';\nimport './filter.scss';\n\nexport default class Filter extends React.Component{\n\n\n  handleClick = (e) => {\n    const { changeFilterValue } = this.props;\n    let target = e.target.dataset.filter;\n    console.log(target);\n\n    if (target !== this.props.filter) {\n      this.setState({\n        filter: target\n      });\n\n      changeFilterValue(target);\n    }\n  };\n\n  render() {\n    const disable = false;\n    const isActive = (value) => this.props.filter === value ? 'active' : '';\n    return (\n      <div className=\"movies-filter\">\n        <ul onClick={disable ? null : this.handleClick}>\n          <li className={isActive('popular')} data-filter=\"popular\">Popular</li>\n          <li className={isActive('top_rated')} data-filter=\"top_rated\">Top rated</li>\n          {\n            this.props.isTv === 'tv' ? <li className={isActive('on_the_air')} data-filter=\"on_the_air\">On The Air</li> :\n            <li className={isActive('upcoming')} data-filter=\"upcoming\">Upcoming</li>\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from 'react';\n\nexport default class Categories extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      category: 'movie'\n    }\n  }\n\n  handleClick = (e) => {\n    const { changeCategoryValue } = this.props;\n    let target = e.target.dataset.category;\n    console.log('target: ', target);\n\n    if (target !== this.state.category) {\n      this.setState({\n        category: target\n      });\n\n      changeCategoryValue(target);\n    }\n  };\n\n  render() {\n    const disable = false;\n    const isActive = (value) => this.state.category === value ? 'active' : '';\n    return (\n      <nav className=\"nav\" onClick={disable ? null : this.handleClick}>\n        <div className={`nav__btn ${isActive('movie')}`} data-category=\"movie\">\n          Movies\n        </div>\n        <div className={`nav__btn ${isActive('tv')}`} data-category=\"tv\">\n          TV\n        </div>\n      </nav>\n    )\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { MovieList } from '../MovieList';\nimport { Api } from '../../services';\nimport {\n  moviesLoaded, moviesRequested, moviesError, filterMovies, changeCategory\n} from '../../actions';\nimport {Filter} from \"../Filter\";\nimport {Categories} from \"../Categories\";\n\nclass MoviesCatalog extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      currentMoviesPage: 2\n    }\n  }\n\n  requestMovies = (page = this.state.currentMoviesPage, filterValue = this.props.filter, category = this.props.category) => {\n    const { moviesLoaded, moviesRequested, moviesError } = this.props;\n\n    moviesRequested();\n    console.log(this.state.currentMoviesPage);\n      Api.getMovies(page, filterValue, category)\n        .then((data) => moviesLoaded(data.results))\n        .catch((err) => {\n          moviesError(err)\n        });\n  };\n\n  requestSomePages = (page, filter, category) => {\n    this.requestMovies(page, filter, category);\n    setTimeout(() => {\n      this.requestMovies(page+1, filter, category);\n    },700);\n  }\n\n  changeFilter = (filterValue) => {\n    this.props.filterMovies(filterValue);\n    this.setState({\n      currentMoviesPage: 2,\n    });\n\n    this.requestSomePages(1, filterValue);\n  };\n\n  changeCategories = (categoryValue) => {\n    this.props.changeCategory(categoryValue);\n    if (this.props.category === 'movie' && this.props.filter === 'upcoming' && categoryValue === 'tv') {\n      this.requestSomePages(1, 'on_the_air', categoryValue);\n    } else if (this.props.category === 'tv' && this.props.filter === 'on_the_air' && categoryValue === 'movie') {\n      this.requestSomePages(1, 'upcoming', categoryValue);\n    } else {\n      this.requestSomePages(1, this.props.filter, categoryValue);\n    }\n  };\n\n  handleScroll = () => {\n    let clientHeight = document.documentElement.clientHeight;\n    let bottom = document.documentElement.getBoundingClientRect().bottom;\n    if (bottom - clientHeight < 50) {\n      this.setState((state) => {\n        return {currentMoviesPage: state.currentMoviesPage + 1}\n      });\n      this.requestMovies()\n    }\n  };\n\n  componentDidMount() {\n    this.requestMovies(1);\n    setTimeout(() => {\n      this.requestMovies(2);\n    },700);\n\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  render() {\n    return (\n      <>\n        <header className=\"header\">\n          <Categories changeCategoryValue={this.changeCategories}/>\n          <Filter changeFilterValue={this.changeFilter} isTv={this.props.category} filter={this.props.filter}/>\n        </header>\n        <MovieList movies={this.props.movies}/>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = {\n  moviesLoaded,\n  moviesRequested,\n  moviesError,\n  filterMovies,\n  changeCategory\n};\n\nconst mapStateToProps = state => ({\n  movies: state.movies.movies,\n  filter: state.movies.filter,\n  category: state.movies.category,\n  loading: state.movies.loading,\n  error: state.movies.error\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MoviesCatalog);\n","import {\n  FETCH_MOVIE_FAILURE,\n  FETCH_MOVIE_REQUEST,\n  FETCH_MOVIE_SUCCESS,\n  FETCH_MOVIES_FAILURE,\n  FETCH_MOVIES_REQUEST,\n  FETCH_MOVIES_SUCCESS,\n  ADD_MOVIE,\n  REMOVE_MOVIE,\n  FILTER_MOVIES,\n  CHANGE_CATEGORY\n} from './types';\n\nconst movieRequested = () => {\n  return {\n    type: FETCH_MOVIE_REQUEST\n  }\n};\n\nconst movieLoaded = (newMovie) => {\n  return {\n    type: FETCH_MOVIE_SUCCESS,\n    payload: newMovie\n  }\n};\n\nconst movieError = (error) => {\n  return {\n    type: FETCH_MOVIE_FAILURE,\n    payload: error\n  };\n};\n\nconst moviesRequested = () => {\n  return {\n    type: FETCH_MOVIES_REQUEST\n  }\n};\n\nconst moviesLoaded = (newMovies) => {\n  return {\n    type: FETCH_MOVIES_SUCCESS,\n    payload: newMovies\n  }\n};\n\nconst moviesError = (error) => {\n  return {\n    type: FETCH_MOVIES_FAILURE,\n    payload: error\n  };\n};\n\nconst addJoke = (movie) => {\n  return {\n    type: ADD_MOVIE,\n    payload: movie\n  };\n};\n\nconst removeJoke = (movie) => {\n  return {\n    type: REMOVE_MOVIE,\n    payload: movie.id\n  };\n};\n\nconst filterMovies = (filter) => {\n  return {\n    type: FILTER_MOVIES,\n    payload: filter\n  };\n};\n\nconst changeCategory = (category) => {\n  return {\n    type: CHANGE_CATEGORY,\n    payload: category\n  };\n};\n\nexport {\n  movieRequested,\n  movieLoaded,\n  movieError,\n  moviesRequested,\n  moviesLoaded,\n  moviesError,\n  addJoke,\n  removeJoke,\n  filterMovies,\n  changeCategory\n};\n","export const FETCH_MOVIE_REQUEST = 'FETCH_MOVIE_REQUEST';\nexport const FETCH_MOVIE_SUCCESS = 'FETCH_MOVIE_SUCCESS';\nexport const FETCH_MOVIE_FAILURE = 'FETCH_MOVIE_FAILURE';\n\nexport const FETCH_MOVIES_REQUEST = 'FETCH_MOVIES_REQUEST';\nexport const FETCH_MOVIES_SUCCESS = 'FETCH_MOVIES_SUCCESS';\nexport const FETCH_MOVIES_FAILURE = 'FETCH_MOVIES_FAILURE';\n\nexport const ADD_MOVIE = 'ADD_JOKE';\nexport const REMOVE_MOVIE = 'REMOVE_JOKE';\nexport const FILTER_MOVIES = 'FILTER_MOVIES';\nexport const CHANGE_CATEGORY = 'CHANGE_CATEGORY';\n","import React from 'react';\nimport {MoviesCatalog} from '../components/MoviesCatalog'\n\nexport const Catalog = () => {\n  return (\n    <>\n      <MoviesCatalog/>\n    </>\n  );\n};\n","import React from 'react';\nimport { ErrorIndicator } from '../ErrorIndicator';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />\n    }\n\n    return this.props.children;\n  }\n}\n","import {LocalStorageService} from '../services';\nimport {\n  FETCH_MOVIE_FAILURE,\n  FETCH_MOVIE_REQUEST,\n  FETCH_MOVIE_SUCCESS,\n  FETCH_MOVIES_FAILURE,\n  FETCH_MOVIES_REQUEST,\n  FETCH_MOVIES_SUCCESS,\n  ADD_MOVIE,\n  REMOVE_MOVIE,\n  FILTER_MOVIES,\n  CHANGE_CATEGORY\n} from '../actions/types';\n\nconst initialState = {\n  movies: [],\n  favouritesMovies: [],\n  movie: {},\n  searchText: '',\n  filter: 'popular',\n  category: 'movie',\n  loading: false,\n  error: null\n};\n\nexport const movies = (state, action) => {\n  const {type, payload} = action;\n  if (state === undefined) {\n    if (localStorage.favouritesJokes) {\n      return {\n        ...initialState,\n        favouritesJokes: LocalStorageService.getItem('favouritesMovies')\n      }\n    } else {\n      return initialState;\n    }\n  }\n\n  switch (type) {\n    case FETCH_MOVIE_REQUEST:\n      return {\n        ...state,\n        movie: {},\n        loading: true,\n        error: null\n      };\n    case FETCH_MOVIE_SUCCESS:\n      return {\n        ...state,\n        movie: payload,\n        loading: false,\n        error: null\n      };\n    case FETCH_MOVIE_FAILURE:\n      return {\n        ...state,\n        movie: {},\n        loading: false,\n        error: payload\n      };\n    case FETCH_MOVIES_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case FETCH_MOVIES_SUCCESS:\n      return {\n        ...state,\n        movies: [...state.movies, ...payload],\n        loading: false,\n        error: null\n      };\n    case FETCH_MOVIES_FAILURE:\n      return {\n        ...state,\n        movies: [],\n        loading: false,\n        error: payload\n      };\n    case ADD_MOVIE:\n      const newFavouritesMovies = [...state.favouritesMovies, payload];\n      LocalStorageService.setItem('favouritesMovies', newFavouritesMovies);\n      return {\n        ...state,\n        favouritesMovies: newFavouritesMovies\n      };\n    case REMOVE_MOVIE:\n      const updatedFavouritesMovies = state.favouritesMovies.filter((movie) => movie.id !== payload);\n      LocalStorageService.setItem('favouritesMovies', updatedFavouritesMovies);\n      return {\n        ...state,\n        favouritesMovies: updatedFavouritesMovies\n      };\n    case FILTER_MOVIES:\n      return {\n        ...state,\n        movies: [],\n        filter: payload\n      };\n    case CHANGE_CATEGORY:\n      const isUpcomingTv = (payload) => {\n        if (state.category === 'movie' && state.filter === 'upcoming' && payload === 'tv') { return 'on_the_air'}\n        else if (state.category === 'tv' && state.filter === 'on_the_air' && payload === 'movie') { return 'upcoming' }\n        else { return state.filter }\n      }\n      return {\n        ...state,\n        movies: [],\n        category: payload,\n        filter: isUpcomingTv(payload)\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { movies } from './movies';\n\nexport const reducer = combineReducers({\n    movies\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { reducer } from './reducers';\n\nconst middleware = [thunk];\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport './styles/normalize.css';\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from './components/ErrorBoundry';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Catalog } from \"../../pages\";\nimport './app.scss';\n\nexport const App = () => {\n  return (\n    <Catalog />\n  );\n};\n"],"sourceRoot":""}