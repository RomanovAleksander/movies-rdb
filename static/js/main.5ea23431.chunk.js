(this["webpackJsonpmovies-rdb"]=this["webpackJsonpmovies-rdb"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/no-image.d9756f52.png"},29:function(e,t,a){e.exports=a(44)},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),l=a(9),s=a.n(l),o=a(27),c=a(28),u=(a(38),a(6)),d=a(7),m=a(12),v=a(11),h=a(13),p=a(23),f=(new(function(){function e(){return Object(u.a)(this,e),e.instance?e.instance:(e.instance=this,this)}return Object(d.a)(e,[{key:"getItem",value:function(e){return JSON.parse(localStorage.getItem("".concat(e)))}},{key:"setItem",value:function(e,t){return localStorage.setItem("".concat(e),JSON.stringify(t))}}]),e}()),a(14)),g=a.n(f),y=a(18),E=a.n(y),k="fa2b02021794026b428e1d15dc359d00",b="https://api.themoviedb.org/3/",I=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"generateUrl",value:function(e,t,a){return a?"".concat(b).concat(e,"?query=").concat(a,"&api_key=").concat(k):t?"".concat(b).concat(e,"?api_key=").concat(k,"&page=").concat(t):"".concat(b).concat(e,"?&api_key=").concat(k)}},{key:"throwCommonError",value:function(e){if(e.errors&&e.errors.length)throw new Error(e.errors.join(" | "));throw new Error("".concat(e.status_message," (error code: ").concat(e.status_code,")"))}},{key:"handleApiCall",value:function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(fetch(e));case 2:return t=n.sent,n.next=5,g.a.awrap(t.json());case 5:return a=n.sent,t.ok||this.throwCommonError(a),n.abrupt("return",a);case 8:case"end":return n.stop()}}),null,this)}},{key:"getPopularMovies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.generateUrl("movie/popular",e);return this.handleApiCall(t)}},{key:"getMovie",value:function(e){var t=this.generateUrl("movie/".concat(e));return this.handleApiCall(t)}},{key:"getMovieRecommendations",value:function(e){var t=this.generateUrl("movie/".concat(e,"/recommendations"));return this.handleApiCall(t)}},{key:"getGenresListForMovies",value:function(){var e=this.generateUrl("genre/movie/list");return this.handleApiCall(e)}},{key:"getMoviePosterImageUrl",value:function(e){return e.poster_path?"".concat("https://image.tmdb.org/t/p/original/").concat(e.poster_path):E.a}},{key:"getMovieBackdropImageUrl",value:function(e){return e.backdrop_path?"".concat("https://image.tmdb.org/t/p/original/").concat(e.backdrop_path):E.a}},{key:"getMovieReleaseYear",value:function(e){return e.release_date?new Date(e.release_date).getFullYear():"N/A"}},{key:"searchMovies",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.generateUrl("search/movie",t,e);return this.handleApiCall(a)}}]),e}()),_=(a(40),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={movies:[],sliderMovies:[],movie:{},img:"",err:{},activeIndex:1,left:0,sliderWidth:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.getPopularMovies(1).then((function(t){e.setState({movies:t.results,sliderMovies:t.results.slice(0,5),movie:t.results[5],img:I.getMovieBackdropImageUrl(t.results[5])}),console.log(t)})).catch((function(t){e.setState({err:t})})),this.onElementWidthChange(),this.autoSlider()}},{key:"onElementWidthChange",value:function(){var e=this;new p.a((function(t){var a=!0,n=!1,r=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value.contentRect.width;e.setState({sliderWidth:s})}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}})).observe(document.querySelector(".slider"))}},{key:"nextSlide",value:function(){this.setState({activeIndex:this.state.activeIndex+1,left:this.state.left-this.state.sliderWidth}),this.state.activeIndex===this.state.sliderMovies.length+1&&this.setState({activeIndex:this.state.activeIndex-this.state.sliderMovies.length,left:0}),this.autoSlider()}},{key:"clickIndicator",value:function(e){this.setState({activeIndex:parseInt(e.target.textContent),left:this.state.sliderWidth-parseInt(e.target.textContent)*this.state.sliderWidth}),clearInterval(n),this.autoSlider()}},{key:"autoSlider",value:function(){var e=this;clearInterval(n),n=setInterval((function(){e.nextSlide()}),5e3)}},{key:"render",value:function(){var e=this;return console.log(this.state),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"slider"},i.a.createElement("div",{className:"slider-inner",style:{left:this.state.left}},this.state.sliderMovies.map((function(e){return i.a.createElement("div",{className:"slider-item",style:{backgroundImage:"url(".concat(I.getMovieBackdropImageUrl(e))},key:e.id},i.a.createElement("div",{className:"slider-item__title"},e.title),i.a.createElement("div",{className:"slider-item__details"},i.a.createElement("span",null,e.release_date),i.a.createElement("span",null,e.vote_average)),i.a.createElement("div",{className:"slider-item__footer"},i.a.createElement("button",null,"Watch Trailer"),i.a.createElement("button",null,"View Details")))})))),i.a.createElement("div",{className:"slider-dots"},this.state.sliderMovies.map((function(t,a){return i.a.createElement("div",{className:a+1===e.state.activeIndex?"active":"",onClick:function(){console.log(e.clickIndicator())},key:a},a+1)}))),i.a.createElement("div",null,this.state.movies.map((function(e){return i.a.createElement("div",{className:"slider-item",style:{backgroundImage:"url(".concat(I.getMovieBackdropImageUrl(e))},key:e.id},i.a.createElement("div",{className:"slider-item__title"},e.title),i.a.createElement("div",{className:"slider-item__details"},i.a.createElement("span",null,e.release_date),i.a.createElement("span",null,e.vote_average)),i.a.createElement("div",{className:"slider-item__footer"},i.a.createElement("button",null,"Watch Trailer"),i.a.createElement("button",null,"View Details")))}))))}}]),t}(i.a.Component)),w=function(){return i.a.createElement(_,null)},S=(a(41),a(42),function(e){var t=e.status;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"error-indicator"},"Ops... Something went wrong",t&&i.a.createElement("p",null,"Try Re-Sign-In")))}),M=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(v.a)(t).call(this))).state={hasError:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?i.a.createElement(S,null):this.props.children}}]),t}(i.a.Component),O=a(5),j=a(24),x=a(25),C={movies:[]},N=Object(O.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;t.type;return e}}),U=[x.a],W=Object(O.createStore)(N,Object(j.composeWithDevTools)(O.applyMiddleware.apply(void 0,U)));s.a.render(i.a.createElement(o.a,{store:W},i.a.createElement(M,null,i.a.createElement(c.a,null,i.a.createElement((function(){return i.a.createElement(w,null)}),null)))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.5ea23431.chunk.js.map